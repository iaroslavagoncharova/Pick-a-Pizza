<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account</title>
    <script type="module" src="profile/profile.js" defer></script>
    <script type="module" src="profile/forms.js" defer></script>
    <script type="module" src="profile/order-data.js" defer></script>
    <script src="../language.js" defer></script>
    <link rel="stylesheet" href="profile/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <script
    async
    data-environment="playground"
    src="https://js.klarna.com/web-sdk/v1/klarna.js"
    data-client-id="4c0f601c-0ee9-58e3-9ccc-83cd942c4fae"
    ></script>
    <header>
        <div class="header-part logo-container" id="header-logo">
            <a href="/"><img src="../images/pizza_logo.png" alt="Pick-a-Pizza icon" class="pizza-logo"></a>
            <h1 class="page-title">Pick-a-Pizza</h1>
        </div>  	
        <div class="wrapper">
            <div class="top_nav">
                <div class="right">
                    <a href="https://wa.me/358000000000?text=Hello%20from%20Pick-a-Pizza!" target="_blank"><img class="top-nav-icon" src="../images/icons/phone-icon.png" alt="Phone Icon" id="phone-button"></a>
                        <a href="/directions"><img class="top-nav-icon" src="../images/icons/location-icon.png" alt="Location Icon"></a>
                        <div id="lang-container">
                            <img class="top-nav-icon" src="../images/icons/globe-icon.png" alt="Globe Icon">
                            <span class="lang-option active-lang" id="english" onclick="changeLanguage('english')">EN</span>
                            <span class="lang-option" id="finnish" onclick="changeLanguage('finnish')">FI</span>
                        </div>
                </div>
            </div>
            <div class="bottom_nav">
                <div class="right">
                    <div id="bottom-nav-items">
                        <div class="dropdown">
                            <a href="#" id="menu">Menu</a>
                            <div class="dropdown-content" id="menu-dropdown">
                                <a href="/pick-a-pizza-club" class="dropdown-link">Pick-a-Pizza Club</a>
                                <a href="/join-us" class="dropdown-link">Open Positions</a>
                                <a href="/directions" class="dropdown-link">Directions</a>
                                <a href="#" class="dropdown-link">Pizza Ratings</a>
                            </div>
                        </div>
                        <div class="dropdown">
                            <a href="#" id="prompts">Pizza Prompts</a>
                            <div class="dropdown-content" id="pizza-dropdown">
                                <a href="#" class="dropdown-link">Gluten Free</a>
                                <a href="#" class="dropdown-link">Keto</a>
                                <a href="#" class="dropdown-link">Low Calorie</a>
                                <a href="#" class="dropdown-link">Classic</a>
                                <a href="#" class="dropdown-link">Vegan Classic</a>
                                <a href="#" class="dropdown-link">Gluten Free Classic</a>
                                <a href="#" class="dropdown-link">Season Deal</a>
                            </div>
                        </div>
                        <a href="/make-your-pizza" id="make-a-pizza">Make a Pizza</a>
                        <a href="/shopping-cart">
                            <img class="bottom-nav-icon" src="../images/icons/shopping-cart-icon.png" alt="Shopping Cart Icon">
                        </a>
                        <div id="login-icon"><a href="/sign-in">
                            <img class="bottom-nav-icon" id="user-icon" src="../images/icons/user-icon.png" alt="User Icon">
                        </a> 
                    </div>
                </div>
            </div>
        </div>
        </div>
    </header>
    <div class="hero-image" id="homepage-background">
        <div id="homepage-content">
            <div id="user-info">
                <div id="personal-info">
                    <h3>Your personal info</h3>
                    <ul>
                        <li>Name: <span id="user-name"></span></li>
                        <li>Email: <span id="user-email"></span></li>
                        <li>Phone number: <span id="user-number"></span></li>
                        <li>Address: <span id="user-address"></span></li>
                    </ul>
                    <button class="profile-button" id="change-profile">Edit profile</button>
                </div>
                <div id="recent-orders"><h3>Your recent orders</h3>
                <ul id="order-list">
                </ul>
            </div>
                <div id="favorite-pizza"><h3>Your favorite pizza is</h3>
                <p>Gluten-free + tuna</p></div>
                <button class="profile-button" id="newsletter">Get our newsletter!</button>
            </div>
    </div>
    </div>
    <footer>
        <div id="contact-info">
            <p>Contacts:<br>
                <span id="phone-number">+35800000000</span><br>
                <span id="address">Karaportti 2, 02610 Espoo</span></p>
        </div>
        <div class="logo-container" id="footer-logo">
            <img src="../images/pizza_logo.png" alt="Pick-a-Pizza icon" class="pizza-logo">
            <h1 class="page-title">Pick-a-Pizza</h1>
        </div>
        <div id="social-media-icons">
            <i class="fa fa-facebook fa-2x"></i>
            <i class="fa fa-instagram fa-2x"></i>
            <i class="fa fa-whatsapp fa-2x"></i>
        </div>

    </footer>
    <dialog id="edit-profile-dialog" class="hidden">
        <div id="dialog-top">
            <h3 id="dialog-header">Edit your profile</h3>
            <span id="close-dialog">&#x2715</span>
        </div>
        <div id="dialog-content">
            <h4>Update personal information:</h4>
            <form action="/update" id="update-user-data">
                <div class="form-input">
                    <label for="username">Name:</label>
                    <input type="text" name="username" id="change-username" class="input-space">
                </div>
                <div class="form-input">
                    <label for="email">E-mail:</label>
                    <input type="email" name="email" id="change-email" class="input-space">
                </div>
                <div class="form-input">
                    <label for="address">Address:</label>
                    <input type="text" name="address" id="change-address" class="input-space">
                </div>
                <div class="form-input">
                    <label for="phone-number">Phone number:</label>
                    <input type="tel" pattern="\+?[0-9]{7,13}" name="phone-number" id="change-number" class="input-space">
                </div>
                <div class="form-submit">
                    <input type="submit" value="Update" id="update-btn" class="form-btn">
                </div>
            </form>
            <h4>Change your password:</h4>
            <form action="/update/password" id="change-password">
                <div class="form-input">
                    <label for="current-password">Current password:</label>
                    <input type="password" name="current-password" id="current-password" class="input-space" minlength="6" required>
                </div>
                <div class="form-input">
                    <label for="new-password">New password:</label>
                    <input type="password" name="new-password" id="new-password" class="input-space" minlength="6" required>
                </div>
                <div class="form-input">
                    <label for="new-password2">Re-enter new password:</label>
                    <input type="password" name="new-password2" id="new-password2" class="input-space" minlength="6" required>
                </div>
                <div class="form-submit">
                    <input type="submit" value="Change Password" id="pswd-btn" class="form-btn">
                </div>
            </form>
            <div id="delete-user">
                <button id="delete-btn" class="form-btn">Delete Account</button>
            </div>
        </div>
    </dialog>
    <div class="alert-popup hidden" id="confirm-deletion">
        <img src="../images/icons/warning-icon.png" alt="Warning Icon" id="warning-icon" class="bottom-nav-icon">
        <p>Are you sure you want to delete your account?<br>
        This action <b>can not be undone</b>.</p>
        <div class="confirm-options">
            <button class="form-btn" id="cancel">Cancel</button>
            <button class="form-btn" id="confirm">OK</button>
        </div>
    </div>
</body>
</html>